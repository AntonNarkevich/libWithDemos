/*! 5thfinger.responsive - v1.3 - 2013-09-27 12:28 */RD.controls.simplePopup=function(a){function b(){var b=a.visibleFor||jQ.isFunction(a.manageVisibility),c=a.originalElement;return b&&c}function c(){function b(){f.removeClass(h.getFullCssClass("hide")),a.manageVisibility===i.manageVisibility&&RD.eventManager.on("boundChange",e),e({curBound:RD.boundManager.getCurrentBound()}),jQ("body").on("touchmove",g),jQ(window).on("resize",d),window.scrollTo(0,0),d(),jQ.isFunction(a.onOpen)&&a.onOpen(f,j)}function c(){f.addClass(h.getFullCssClass("hide")),jQ("html").removeClass(h.getFullCssClass("opened")),jQ("body").off("touchmove",g),jQ(window).off("resize",d),jQ.isFunction(a.onClose)&&a.onClose(f,j)}function d(){a.isScrollable&&j.refresh(),jQ.isFunction(a.onRefresh)&&a.onRefresh(f,j)}function e(b){var c=!1;jQ.each(a.visibleFor,function(){return b.curBound===this?(c=!0,!1):void 0}),c?jQ("html").addClass(h.getFullCssClass("opened")):jQ("html").removeClass(h.getFullCssClass("opened"))}function g(a){a.preventDefault()}var j,k={hideScrollbar:!0,bounce:!1,onBeforeScrollStart:null,useTransform:l,useTransition:!l},l=RD.deviceManager.deviceInfo.os==RD.deviceManager.deviceOsType.iOs,m=(jQ("<div>").addClass(h.getFullCssClass("layout")).appendTo(f),jQ("<div>").addClass(h.getFullCssClass("container")).addClass("border-box").appendTo(f)),n=jQ("<div>").addClass(h.getFullCssClass("body")).appendTo(m);return jQ('<a title="Close" href="#"><i class="rd-icon '+a.closeButtonIconClass+'"></i></a>').addClass(h.getFullCssClass("close")).appendTo(m),a.isCloningNeeded?n.append(jQ(a.originalElement).clone()):n.append(jQ(a.originalElement)),a.isStaticHeight&&f.addClass(h.getFullCssClass("static-height")),a.isScrollable&&(a.iScrollSettings=jQ.extend(k,a.iScrollSettings),j=new rpiScroll(n[0],a.iScrollSettings)),f.on("click","."+h.getFullCssClass("close")+", ."+h.getFullCssClass("layout"),function(a){a.preventDefault(),c()}),f.on("focus","input",function(){j.disable()}),f.on("blur","input",function(){j.enable()}),{refresh:d,open:b,close:c}}function d(){a.isCloningNeeded&&h.manageVisibility(f,jQ(a.originalElement),a.visibleFor)}function e(){jQ("body").append(f)}var f,g,h=RD.controls.baseControl({baseCssClass:"simple-popup"}),i={originalElement:null,cssClass:"",visibleFor:null,manageVisibility:d,managePlace:e,isScrollable:!0,isStaticHeight:!1,isCloningNeeded:!0,iScrollSettings:null,closeButtonIconClass:"icon-remove-sign",onOpen:null,onClose:null,onRefresh:null,onCreationStart:null,onCreationComplete:null};return h.validate(b(),function(){a=jQ.extend(i,a),f=jQ("<div>").addClass(h.getFullCssClass()).addClass(a.cssClass).addClass(h.getFullCssClass("hide")),jQ.isFunction(a.onCreationStart)&&a.onCreationStart(f),a.managePlace(f);var b=c();a.manageVisibility(f),jQ.isFunction(a.onCreationComplete)&&a.onCreationComplete(f),g=jQ.extend({},b,{$el:f})}),g};