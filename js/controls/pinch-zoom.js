/*! 5thfinger.responsive - v1.3 - 2013-09-27 12:28 */RD.controls.pinchZoom=function(a){function b(){var b=a.visibleFor||jQ.isFunction(a.manageVisibility),c=a.originalElement;return b&&c}function c(){function b(){h.hasClass("zoom")?l.zoom(l.wrapperW/a.zoomMax,l.wrapperH/a.zoomMax,a.zoomMax,a.time):(l.zoom(0,0,a.zoomMin,a.time),l.scrollTo(0,0,0)),c(),d()}function c(b){h.toggleClass("zoom",b),j.toggleClass(a.zoomInButtonIconClass,b).toggleClass(a.zoomOutButtonIconClass,void 0==b?void 0:!b)}function d(){k.css("-webkit-transform-style","initial"),setTimeout(function(){k.css("-webkit-transform-style","")})}var f=jQ("<div>").addClass(g.getFullCssClass("wrapper")).appendTo(e),h=jQ("<div class='zoom'></div>").addClass(g.getFullCssClass("button")).appendTo(e),j=jQ("<i class='rd-icon "+a.zoomInButtonIconClass+"'></i>").appendTo(h),k=i.clone().addClass(g.getFullCssClass("container")).appendTo(f);e.insertAfter(i),h.on("click",b);var l=new rpiScroll(f[0],{zoom:!0,zoomMin:a.zoomMin,zoomMax:a.zoomMax,doubleTapZoom:1,wheelAction:"zoom",hScrollbar:!1,vScrollbar:!1,bounce:!1,onZoomEnd:function(){c(this.scale<a.zoomMax),d()}});return 1!=a.zoomInitial&&(a.zoomInitial=a.zoomInitial<a.zoomMax?a.zoomInitial:a.zoomMax,a.zoomInitial=a.zoomInitial>a.zoomMin?a.zoomInitial:a.zoomMin,l.zoom(l.wrapperW/a.zoomInitial,l.wrapperH/a.zoomInitial,a.zoomInitial,0),c(a.zoomInitial!=a.zoomMax)),{zoomControl:l}}function d(){g.manageVisibility(e,i,a.visibleFor)}var e,f,g=RD.controls.baseControl({baseCssClass:"pinch-zoom"}),h={originalElement:null,cssClass:"",zoomMin:1,zoomMax:3,zoomInitial:1,time:600,visibleFor:null,manageVisibility:d,zoomInButtonIconClass:"icon-plus-sign",zoomOutButtonIconClass:"icon-minus-sign",onCreationStart:null,onCreationComplete:null},i=jQ(a.originalElement);return g.validate(b(),function(){a=jQ.extend(h,a),e=jQ("<div>").addClass(g.getFullCssClass()).addClass(a.cssClass),jQ.isFunction(a.onCreationStart)&&a.onCreationStart(e);var b=c();a.manageVisibility(e),jQ.isFunction(a.onCreationComplete)&&a.onCreationComplete(e,b),f=jQ.extend({},b,{$el:e})}),f};